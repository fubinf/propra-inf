title: Das kleine Einmaleins von Git
description: |
  grundlegende Git-Kommandos kennenlernen und ausprobieren
timevalue: 1.0
difficulty: 1
---

## Git? Was soll das?

Hier geht es um das Versionsverwaltungssystem Git (oft auch klein geschrieben: git);
auf Englisch version control system oder kurs VCS. Meistens einfach: git.
Ein Versionsverwaltungssystem verwaltet Dateien, an denen im Laufe der Zeit 
Änderungen gemacht werden, und speichert viele solche Versionen
samt der Angabe, wer sie wann erzeugt hat.

Das VCS ist _das_ zentrale Werkzeug für die Softwareentwicklung im Team:
Andere Teammitglieder können sich jederzeit die jüngsten Änderungen aller
anderen aus dem VCS holen, sie eventuell prüfen, und dann übernehmen (das ist der Normalfall)
oder auch nicht. 
Auf diese Weise können alle zusammenarbeiten, ohne sich dabei nennenswert gegenseitig zu stören.

Ähnlich hier im ProPra: Sie müssen alle ihre Einreichungen in einem Git "repository"
(so heißt die Versionsablage für ein Projekt; kurz meist "repo") speichern, 
wenn Sie sie einer Tutor_in vorlegen möchten.
Die Tutor_in ruft ihre Abgabe vom Git-Server ab, prüft sie und speichert dann
das Prüfergebnis auch wieder in Ihrem Git-Repository.

Der Server dient dabei nur zum Übermitteln von einer Benutzer_in zur anderen,
alles andere passiert lokal auf dem eigenen Rechner.
Deshalb braucht jede_r, der mit einem Git-Repository arbeitet, eine Kopie des Repositorys
auf dem eigenen Rechner.


## Wie benutzt man Git?

Git ist ein Kommandozeilenprogramm. 
Es gibt auch GUIs (separat und in Entwicklungsumgebungen), die die Verwendung der
wichtigsten Kommandos erleichtern, aber um Git richtig zu verstehen und um seine
fortgeschrittenen Funktionen zu nutzen, braucht man die Kommandozeile.

Für den Server nutzt man entweder einen öffentlichen Dienst wie 
[GitHub](https://github.com/),
[GitLab](https://about.gitlab.com/) oder
[BitBucket](https://bitbucket.org/),
oder man betreibt selbst eine Serversoftware wie 
[GitLab](https://about.gitlab.com/) oder
[Gitea](https://about.gitea.com/).

Wir werden einen GitLab-Server benutzen, den der Fachbereich Mathematik und Informatik betreibt:
https://git.imp.fu-berlin.de/.

Hier gibt es nur reines Bedienwissen für die Einreichung von Aufgabenergebnissen;
das Verständnis dazu und alles Weitere lernen Sie später im Kapitel über Werkzeuge.
Die Aufgabenblöcke (vor allem der erste) zu Git gehören zum Wertvollsten, was Sie aus dem
ProPra mitnehmen können; lassen Sie sich diese Aufgaben bitte nicht entgehen!

Wir bearbeiten jetzt folgendes:
- Installieren und Konfigurieren von Git auf Ihrem System.
- Erstellen Ihres persönlichen ProPra-Git-Repositorys zum Einreichen Ihrer ProPra-Abgaben.
- Erlernen der nötigen Git-Befehle zum Einreichen der Abgaben: `clone`, `add`, `commit`, `push`, `pull`.

## Installieren von Git

Starten Sie Ihre Kommandozeile (Ihre "Shell").
Probieren Sie das Kommando `git`? Ist es vorhanden? 
Dann ist die Installation schon erledigt und Sie brauchen nichts zu tun.

Andernfalls:
- Auf Windows/WSL und in Linux:  
  `sudo apt-get install git`.
  - Dabei bedeutet `sudo` die Ausführung eines Kommandos mit Administratorrechten.
    Deshalb müssen Sie dafür gelegentlich ihr Passwort eingeben
  - `apt-get` ist der Paketmanager, mit `install` installiert er ein Softwarepaket.
  - `git` ist der Name des gewünschten Pakets; es gibt davon Tausende.
- Auf Mac:  
  `TODO 1`.
  - ...

Hier wie überall im ProPra gilt: Wenn etwas nicht klappt und hier nicht erläutert ist,
führt eine Web-Suche schnell zu den nötigen Informationen. 
Bitte fleißig nutzen -- aber vorher stets _gründlich_ die Aufgabenstellung lesen;
sehr oft stehen sehr wohl alle nötigen Infos da.

## Konfigurieren von Git

Damit in den erzeugten Versionen eine brauchbare Autoreninformation steht, 
müssen Sie im Betriebssystem hinterlegen, wer Sie sind


## Erstellen des eigenen Pro-Pra-Projekts

<!-- Diser abschnitt ist Uni-spezifisch und muss ggf. angepasst werden falls das ProPra an anderen Unis gelehrt wird -->

Alle Abgaben für das Programmier-Praktikum werden sie in ihr eigenen Git Projekt bzw. Repository (kurz: Repo) hochladen. Zum hosten dieser Projekte gibt es viele verschiedene Server oder Websiten, die bekanntesten sind GitHub und GitLab. Beide bieten kostenloses Hosten von Git-Projekten an jedoch bietet nur GitLab die möglichkeit selbst einen Server zu betreiben wie es unser Fachbereich der Mathematik und Informatik tut.

Auf der Seite https://git.imp.fu-berlin.de/ können Sie sich mit ihren Zedat-Logindaten einloggen. 
Nach dem einloggen sollten sie eine Größtenteils leere website zu Gesicht bekommen mit einem gut sichtbaren Knopf "New Project" oder "Neues Projekt".
Ein Klick auf diesen Knopf ruft einen Assistenten zum erstellen des neuen Projekts auf, hier wählen wir ein leeres Projekt aus und geben diesem den Namen "propra" (der name ist beliebig wählbar, aber sollte natürlich zum Inhalt passen). Die Sichtbarkeit stellen wir vorerst auf "Private". Auch eine Readme wollen wir anlegen lassen, damit wir das Repo sofort auf unseren lokalen Rechner klonen können.
Sind diese Einstellungen vorgenommen können wir das Projekt erstellen.
Nun werden Sie auf die Seite des Projektes weitergeleitet. Nehmen Sie sich Zeit und lesen verschaffen Sie sich einen Überblick über diese Seite, lesen Sie ruhig einmal die vorgefertigte Readme datei auch wenn sie vielleicht mit allen Inhalten noch nichts anfangen können.
<!-- nicht sicher ob das sinnvoll ist. ggf einfach weglassen -->

## Die wichtigsten git Befehle in der Anwendung

### Klonen des Projekts
Jetzt können wir uns darum kümmern das Repo auch auf den lokalen Rechner zu klonen.
Dazu gehen wir auf die Seite unseres Projekts und klicken oben rechts auf den Knopf clone und kopieren die Adresse unter "Clone with HTTPS".
Danach öffnen Sie ein Terminal ihrer Wahl und navigieren in einen Ordner in den Sie das Repo kopieren möchten.
Hier geben wir nun den Befehl git clone mit unserer https Adresse als Parameter ein. Also z.b. `git clone https://git.imp.fu-berlin.de/svnhstr/propra.git`.
Nachdem erfolgreichen klonen sollte nun ein Unterordner mit dem namen unseres Projektes erstellt worden sein.
Es gibt eine wichtige Regel zu befolgen:

!!! warning
    In diesem neuen Ordner befindet sich ein "unsichtbarer" Unterordner mit dem namen .git, dieser darf nicht bearbeitet oder gelöscht werden **!** Geschiet das ist das Git Repo beschädigt und wird nicht mehr richtig bzw. gar nicht mehr funktionieren.

Als nächstes können wir nun in diesen Ordner navigieren um unsere erste Änderung anzulegen und danach ins GitLab-Projekt hochzuladen.

### Änderungen am Projekt speichern und hochladen

Bearbeiten Sie die Readme.md folgendermaßen.

- Löschen Sie den existierenden Inhalt
- Fügen Sie eine Überschrift "Programmierpraktikum" hinzu
- Notieren Sie darunter ihren Namen und den Namen ihres Tutors

Hinweise zum formattieren von Markdown-Dateien finden sie hier: https://about.gitlab.com/handbook/markdown-guide/

Nachdem die Änderungen vorgenommen wurden müssen wir git noch mitteilen, dass diese nun im aktuellen Zustand gespeichert werden sollten.
Dazu nutzen wir den Befehl `git commit`. Damit der Befehl weiß welche Dateien "commitet" werden sollen müssen wir diese noch hinzufügen.
Das können wir mithilfe von `git add`. Zwar gibt es auch einen Parameter welcher *alle* veränderten oder neu erstellten Dateien hinzufügt, jedoch wird ist es sog. "best-practice" die Dateien explizit zu bennen, so können sie schlicht den Pfad und Namen der Datein anhängen. 
In unserem Fall also: `git add Readme.md` (Nutzen Sie automatische Vervollständigung mithilfe der Tab-Taste).
Nachdem nun also die Datei zu unserem aktuellen commit-Zustand hinzugefügt wurde müssen wir diesen noch festhalten. Damit wir auch wissen *was* dort eigentlich festgehalten wurde können wir auch eine kurze (72 Zeichen) lange Nachricht anhängen. Z.b. "modified Readme.md" oder "Readme.md bearbeitet".
Das können wir mithilfe des flags `-m`, der gesamte Befehl würde dann so aussehen `git commit -m "Readme.md bearbeitet"`.
Zu guter letzt müssen wir diese Änderungen noch zum Gitlab server schicken, dazu nutzen wir ganz einfach den Befehl `git push`, ohne flags, parameter oder sonstige Zusätze. Git wird sie nun nach ihren Zugangsdaten fragen, nachdem Sie diese eingegeben haben sollte unser commit unserem GitLab-Projekt hinzugefügt worden und nach einem Neuladen der Seite sichtbar sein.

### Änderungen vom Server laden

Sollte Sie ihr Git-Repository auf mehreren Rechnern gespeichert haben kann es sein, dass Sie ab und zu auf den neusten Stand kommen müssen um Änderungen vorzunehmen. Dazu nutzen wir den Befehl `git pull`. Grundsätzlich ist es *best-practice* diesen Befehl einmal auszuführen bevor man anfängt am lokalen Repo zu arbeiten.


!!! submission
    Die deliverables dürften meist einfach sein und aus dem passenden Output
    irgendwelcher git-Kommandos bestehen.

!!! warning
    Git ist extrem leistungsfähig, aber es kommt sehr oft aufs Detail an.
    Bitte sehr sorgfältig lesen und arbeiten, sonst kann es schnell frustrierend werden.

- Konzepte: Folge von Schnappschüssen eines Dateibaums, Verkettung mit Vorgängern, 
  Metadaten (Autor, Zeitstempel, Hash), Eigenschaften von Commit-Hashes
- `git status` und `git diff`
- `git add` und der Index als "Schmierzettel" für den nächsten Commit
- `git commit -m`
- `git log`
- `git push`
- Jetzt auf dem Gitlab-Server eine Änderung machen
- `git pull`

[HINT::Hinweis zur Praktikabilität]
  `git push` kann einem ganz schön auf die Nerven gehen, wenn man keinen
  `ssh-agent` laufen hat.
[ENDHINT]

!!! instructor
    Nur prüfen, ob der Commit ungefähr wie gewünscht aussieht.
